import java.sql.*;

public class Discount {
    private int discountId;
    private float amount;
    private java.sql.Date startDate;
    private java.sql.Date endDate;

    public Discount(int discountId, float amount, java.sql.Date startDate, java.sql.Date endDate) {
        this.discountId = discountId;
        this.amount = amount;
        this.startDate = startDate;
        this.endDate = endDate;
    }

    public boolean saveToDatabase() {
        String connectionUrl = "jdbc:sqlserver://localhost:1433;databaseName=Carproject;encrypt=true;trustServerCertificate=true;";
        String user = "SANDII";
        String password = "sandy321";

        String insertQuery = "INSERT INTO DISCOUNT (DISCOUNT_ID, AMOUNT, START_DATE, END_DATE) VALUES (?, ?, ?, ?)";

        try (Connection connection = DriverManager.getConnection(connectionUrl, user, password);
             PreparedStatement ps = connection.prepareStatement(insertQuery)) {

            ps.setInt(1, discountId);
            ps.setFloat(2, amount);
            ps.setDate(3, startDate);
            ps.setDate(4, endDate);

            int rowsInserted = ps.executeUpdate();
            return rowsInserted > 0;

        } catch (Exception e) {
            e.printStackTrace();
            return false;
        }
    }
}
